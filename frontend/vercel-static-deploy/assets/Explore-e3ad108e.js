import{u as N,a as v,r as n,f as C,j as e,B as c,L as j,C as w}from"./index-c94dabce.js";const D=()=>{const r=N(),{coins:f,loading:g,error:m}=v(s=>s.coins),[l,x]=n.useState(""),[a,y]=n.useState("price"),[i,h]=n.useState("desc");n.useEffect(()=>{r(C())},[r]);const p=[...f.filter(s=>{var u;const t=l.toLowerCase();return s.name.toLowerCase().includes(t)||s.symbol.toLowerCase().includes(t)||((u=s.description)==null?void 0:u.toLowerCase().includes(t))})].sort((s,t)=>a==="price"?i==="asc"?s.price-t.price:t.price-s.price:a==="name"?i==="asc"?s.name.localeCompare(t.name):t.name.localeCompare(s.name):i==="asc"?new Date(s.createdAt).getTime()-new Date(t.createdAt).getTime():new Date(t.createdAt).getTime()-new Date(s.createdAt).getTime()),d=s=>{a===s?h(i==="asc"?"desc":"asc"):(y(s),h("desc"))},o=s=>a!==s?null:e.jsx("span",{className:"ml-1",children:i==="asc"?"↑":"↓"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Explore Meme Coins"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx("input",{type:"text",value:l,onChange:s=>x(s.target.value),placeholder:"Search by name, symbol, or description",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{variant:a==="price"?"primary":"outline",size:"sm",onClick:()=>d("price"),children:["Price",o("price")]}),e.jsxs(c,{variant:a==="name"?"primary":"outline",size:"sm",onClick:()=>d("name"),children:["Name",o("name")]}),e.jsxs(c,{variant:a==="createdAt"?"primary":"outline",size:"sm",onClick:()=>d("createdAt"),children:["Newest",o("createdAt")]})]})]}),g?e.jsx("div",{className:"text-center py-8",children:"Loading coins..."}):m?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error: ",m]}):p.length===0?e.jsx("div",{className:"text-center py-8",children:l?e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 mb-4",children:['No coins found matching "',l,'"']}),e.jsx(c,{onClick:()=>x(""),children:"Clear Search"})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No coins available yet"}),e.jsx(j,{to:"/create",children:e.jsx(c,{children:"Create the First Coin"})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(s=>e.jsx(b,{coin:s},s.id))})]})},b=({coin:r})=>e.jsx(j,{to:`/coins/${r.id}`,children:e.jsxs(w,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center",children:r.imageUrl?e.jsx("img",{src:r.imageUrl,alt:r.name,className:"h-10 w-10 rounded-full"}):e.jsx("span",{className:"text-primary-800 font-bold text-lg",children:r.symbol.substring(0,2)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:r.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.symbol})]}),e.jsxs("div",{className:"ml-auto",children:[e.jsxs("div",{className:"font-bold",children:["$",r.price.toFixed(6)]}),e.jsx("div",{className:"text-sm text-green-500",children:"+12.5%"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Market Cap:"}),e.jsxs("span",{children:["$",(Number(r.supply)*r.price).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{children:"Created:"}),e.jsx("span",{children:new Date(r.createdAt).toLocaleDateString()})]})]})]})});export{D as default};
