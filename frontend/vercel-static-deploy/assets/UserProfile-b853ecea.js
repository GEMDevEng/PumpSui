import{c as D,u as F,a as P,r as n,j as e,C as E,B as o,v as R}from"./index-c94dabce.js";const $=()=>{const v=D(),T=F(),{connected:g,address:t}=P(s=>s.wallet),{profile:r}=P(s=>s.user),[d,b]=n.useState("profile"),[i,m]=n.useState(!1),[p,S]=n.useState(!1),[w,N]=n.useState(!1),[h,k]=n.useState(null),[a,j]=n.useState({displayName:"",avatarUrl:"",email:"",notificationPreferences:{priceAlerts:!0,transactionUpdates:!0,marketingEmails:!1},displaySettings:{darkMode:!1,compactView:!1,showBalances:!0}}),[C,I]=n.useState([]);n.useEffect(()=>{var s,x,y,f,u,c;if(!g){v("/wallet");return}r&&j({displayName:r.displayName||"",avatarUrl:r.avatarUrl||"",email:r.email||"",notificationPreferences:{priceAlerts:((s=r.notificationPreferences)==null?void 0:s.priceAlerts)??!0,transactionUpdates:((x=r.notificationPreferences)==null?void 0:x.transactionUpdates)??!0,marketingEmails:((y=r.notificationPreferences)==null?void 0:y.marketingEmails)??!1},displaySettings:{darkMode:((f=r.displaySettings)==null?void 0:f.darkMode)??!1,compactView:((u=r.displaySettings)==null?void 0:u.compactView)??!1,showBalances:((c=r.displaySettings)==null?void 0:c.showBalances)??!0}}),B()},[g,r,v]);const B=()=>{const s=[{id:"1",type:"TRANSACTION",action:"BUY",coinSymbol:"DOGE",amount:"1000",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"2",type:"TRANSACTION",action:"SELL",coinSymbol:"SHIB",amount:"5000",timestamp:new Date(Date.now()-864e5).toISOString()},{id:"3",type:"PROFILE",action:"UPDATE",details:"Updated profile settings",timestamp:new Date(Date.now()-1728e5).toISOString()},{id:"4",type:"WALLET",action:"CONNECT",details:"Connected wallet",timestamp:new Date(Date.now()-2592e5).toISOString()}];I(s)},l=s=>{const{name:x,value:y,type:f,checked:u}=s.target;if(f==="checkbox"){const[c,O]=x.split(".");j(A=>({...A,[c]:{...A[c],[O]:u}}))}else j(c=>({...c,[x]:y}))},U=async()=>{try{S(!0),k(null),N(!1),await new Promise(s=>setTimeout(s,1e3)),T(R(a)),m(!1),N(!0),setTimeout(()=>{N(!1)},3e3)}catch{k("Failed to save profile settings")}finally{S(!1)}};return g?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"User Profile"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsxs(E,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("div",{className:"h-24 w-24 rounded-full bg-primary-100 flex items-center justify-center mb-4",children:a.avatarUrl?e.jsx("img",{src:a.avatarUrl,alt:"User avatar",className:"h-24 w-24 rounded-full object-cover"}):e.jsx("span",{className:"text-primary-700 text-2xl font-bold",children:a.displayName?a.displayName.charAt(0).toUpperCase():t==null?void 0:t.charAt(0)})}),e.jsx("div",{className:"text-xl font-bold",children:a.displayName||"Anonymous User"}),e.jsxs("div",{className:"text-gray-500 font-mono text-sm mt-1",children:[t==null?void 0:t.substring(0,6),"...",t==null?void 0:t.substring(t.length-4)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{type:"button",className:`w-full text-left px-4 py-2 rounded-md ${d==="profile"?"bg-primary-100 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>b("profile"),children:"Profile"}),e.jsx("button",{type:"button",className:`w-full text-left px-4 py-2 rounded-md ${d==="settings"?"bg-primary-100 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>b("settings"),children:"Settings"}),e.jsx("button",{type:"button",className:`w-full text-left px-4 py-2 rounded-md ${d==="activity"?"bg-primary-100 text-primary-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>b("activity"),children:"Activity"})]})]})}),e.jsx("div",{className:"md:w-3/4",children:e.jsxs(E,{children:[d==="profile"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Profile Information"}),i?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{variant:"secondary",onClick:()=>m(!1),children:"Cancel"}),e.jsx(o,{onClick:U,disabled:p,children:p?"Saving...":"Save"})]}):e.jsx(o,{variant:"secondary",onClick:()=>m(!0),children:"Edit Profile"})]}),h&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md",children:h}),w&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-md",children:"Profile updated successfully!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),i?e.jsx("input",{type:"text",id:"displayName",name:"displayName",value:a.displayName,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your display name"}):e.jsx("div",{className:"py-2",children:a.displayName||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Avatar URL"}),i?e.jsx("input",{type:"text",id:"avatarUrl",name:"avatarUrl",value:a.avatarUrl,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"https://example.com/avatar.jpg"}):e.jsx("div",{className:"py-2",children:a.avatarUrl?e.jsx("a",{href:a.avatarUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:a.avatarUrl}):"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i?e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"your.email@example.com"}):e.jsx("div",{className:"py-2",children:a.email||"Not set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),e.jsx("div",{className:"py-2 font-mono",children:t})]})]})]}),d==="settings"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"User Settings"}),i?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{variant:"secondary",onClick:()=>m(!1),children:"Cancel"}),e.jsx(o,{onClick:U,disabled:p,children:p?"Saving...":"Save"})]}):e.jsx(o,{variant:"secondary",onClick:()=>m(!0),children:"Edit Settings"})]}),h&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md",children:h}),w&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-md",children:"Settings updated successfully!"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"priceAlerts",name:"notificationPreferences.priceAlerts",checked:a.notificationPreferences.priceAlerts,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"priceAlerts",className:"ml-2 block text-sm text-gray-700",children:"Price alerts"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"transactionUpdates",name:"notificationPreferences.transactionUpdates",checked:a.notificationPreferences.transactionUpdates,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"transactionUpdates",className:"ml-2 block text-sm text-gray-700",children:"Transaction updates"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"marketingEmails",name:"notificationPreferences.marketingEmails",checked:a.notificationPreferences.marketingEmails,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"marketingEmails",className:"ml-2 block text-sm text-gray-700",children:"Marketing emails"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Display Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"darkMode",name:"displaySettings.darkMode",checked:a.displaySettings.darkMode,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"darkMode",className:"ml-2 block text-sm text-gray-700",children:"Dark mode"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"compactView",name:"displaySettings.compactView",checked:a.displaySettings.compactView,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"compactView",className:"ml-2 block text-sm text-gray-700",children:"Compact view"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showBalances",name:"displaySettings.showBalances",checked:a.displaySettings.showBalances,onChange:l,disabled:!i,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showBalances",className:"ml-2 block text-sm text-gray-700",children:"Show balances"})]})]})]})]})]}),d==="activity"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Activity History"}),C.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No activity yet"}):e.jsx("div",{className:"space-y-4",children:C.map(s=>e.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-b-0 last:pb-0",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0 ${s.type==="TRANSACTION"&&s.action==="BUY"?"bg-green-100 text-green-600":s.type==="TRANSACTION"&&s.action==="SELL"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:s.type==="TRANSACTION"?s.action==="BUY"?"↑":"↓":s.type==="PROFILE"?"P":"W"}),e.jsxs("div",{className:"ml-3 flex-grow",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"font-medium",children:s.type==="TRANSACTION"?`${s.action==="BUY"?"Bought":"Sold"} ${s.amount} ${s.coinSymbol}`:s.type==="PROFILE"?"Profile Update":"Wallet Connection"}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:s.details||(s.type==="TRANSACTION"?`${s.action==="BUY"?"Purchased":"Sold"} ${s.coinSymbol} tokens`:"")})]})]})},s.id))})]})]})})]})]}):null};export{$ as default};
